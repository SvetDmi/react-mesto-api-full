{"version":3,"sources":["components/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/Login.js","utils/Api.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","index.js"],"names":["Header","email","onLogout","isLogged","React","useState","isNaviconClick","setNaviconClick","className","path","to","onClick","src","logo","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","type","link","name","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","buttonText","children","onSubmit","isLoading","action","method","noValidate","EditProfilePopup","onUpdateUser","description","onNameChange","onDescriptionChange","e","preventDefault","id","value","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","onUpdateAvatar","useRef","current","target","reset","ref","AddPlacePopup","onTitleChange","onLinkChange","Register","onRegister","setEmail","password","setPassword","autoComplete","Login","onLogin","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","Error","status","fetch","then","_parsAnswer","all","getInitialCards","getUserInfo","inputData","body","JSON","stringify","data","authorization","InfoTooltip","authResult","message","ProtectedRoute","loggedIn","props","BASE_URL","App","setCurrentUser","setCards","setName","setDescription","setTitle","setLink","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isSelectedCardOpen","setIsSelestedCardOpen","selectedCardData","setSelectedCardData","cardForDelete","setCardForDelete","setLoading","setLoggedIn","isInfoToolTipPopupOpen","setIsInfoTooltipPopupOpen","isAuthResult","setAuthResult","setMessage","useEffect","getAllInfo","cardsData","userData","catch","err","console","log","history","useHistory","tokenCheck","token","jwt","localStorage","getItem","push","closeAllPopups","undefined","handleESCclose","evt","key","document","addEventListener","removeEventListener","Provider","removeItem","exact","i","changeLikeCardStatus","newCard","newCards","item","response","auth","setItem","userInfo","editUserInfo","newUserInfo","finally","editAvatar","newAvatar","addCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"8NAAe,MAA0B,iCCkD1BA,MA9Cf,YAAgD,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SAAY,EAEDC,IAAMC,UAAS,GAFd,mBAEpCC,EAFoC,KAEpBC,EAFoB,KAY3C,OAEI,yBAAQC,UAAS,yBAAoBL,EAAW,cAAgB,UAAhE,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOM,KAAK,WAAZ,SACI,cAAC,IAAD,CAAMC,GAAG,YAAYF,UAAU,eAA/B,kFAEJ,cAAC,IAAD,CAAOC,KAAK,WAAZ,SACI,cAAC,IAAD,CAAMC,GAAG,YAAYF,UAAU,eAA/B,8CAEJ,eAAC,IAAD,CAAOC,KAAK,IAAZ,UACI,sBAAKD,UAAS,UAAKF,EAAiB,sBAAwB,iBAA5D,UACI,mBAAGE,UAAU,gBAAb,SAA+BP,IAC/B,cAAC,IAAD,CAAMS,GAAG,YAAYC,QAAST,EAAUM,UAAU,gCAAlD,+CAGJ,wBAAQG,QAxBP,WACbJ,GAAgB,IAuBuBC,UAAS,kCAA6BF,EAAiB,GAAK,gCAEvF,wBAAQK,QAtBN,WACdJ,GAAgB,IAsBAC,UAAS,kCAA6BF,EAAiB,8BAAgC,YAMnG,qBAAKM,IAAKC,EAAMC,IAAI,eAAeN,UAAU,qBCvC5CO,EAAqBX,IAAMY,gBCkDzBC,MAhDf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAcrCC,EAAclB,IAAMmB,WAAWR,GAI/BS,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvCC,EAAyB,iCACDH,EAAQ,yBAA2B,IAI3DI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKL,MAAQJ,EAAYI,OAC3DM,EAAuB,gCACAJ,EAAU,wBAA0B,IAIjE,OAEI,qBAAIpB,UAAU,iBAAd,UACI,wBAAQyB,KAAK,SAASzB,UAAWmB,EAA2BhB,QAvBpE,WACIU,EAAaH,IAsBT,eACA,qBAAKN,IAAKM,EAAKgB,KAAMpB,IAAKI,EAAKiB,KAAM3B,UAAU,gBAAgBG,QAhCvE,WACIQ,EAAYD,MAgCR,sBAAKV,UAAU,kBAAf,UACI,oBAAIA,UAAU,kBAAd,SAAiCU,EAAKiB,OACtC,sBAAK3B,UAAU,kBAAf,UACI,wBAAQyB,KAAK,SAASzB,UAAWwB,EAAyBrB,QAhC1E,WACIS,EAAWF,MAgCC,qBAAKV,UAAU,uBAAf,yBCSL4B,MA/Cf,YASI,IARAC,EAQD,EARCA,cACAC,EAOD,EAPCA,WACAC,EAMD,EANCA,aACApB,EAKD,EALCA,YACAC,EAID,EAJCA,WACAC,EAGD,EAHCA,aACAmB,EAED,EAFCA,MAGMlB,EAAclB,IAAMmB,WAAWR,GAIrC,OACI,iCAEI,0BAASP,UAAU,yBAAnB,UACI,qBAAKI,IAAKU,EAAYmB,OAAQ3B,IAAKQ,EAAYa,KAAM3B,UAAU,oBAC/D,wBAAQyB,KAAK,SAASzB,UAAU,8BAA8BG,QAAS4B,IACvE,sBAAK/B,UAAU,gBAAf,UACI,qBAAIA,UAAU,iBAAd,UAAgCc,EAAYa,KAA5C,OACA,wBAAQF,KAAK,SAASzB,UAAU,uBAAuBG,QAAS0B,IAChE,mBAAG7B,UAAU,gBAAb,SAA8Bc,EAAYoB,WAE9C,wBAAQT,KAAK,SAASzB,UAAU,sBAAsBG,QAAS2B,OAGnE,yBAAS9B,UAAU,uBAAnB,SACI,oBAAIA,UAAU,eAAd,SAEQgC,EAAMG,KAAI,SAACzB,GAAD,OACN,cAAE,EAAF,CAEIA,KAAMA,EACNC,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GAJTH,EAAKQ,gBC3B3BkB,MATf,WACI,OAEI,wBAAQpC,UAAU,wBAAlB,SACI,mBAAGA,UAAU,eAAb,wCCYGqC,MAhBf,YAAgD,IAA1B3B,EAAyB,EAAzBA,KAAM4B,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAEhC,OACI,mCACI,qBAAKvC,UAAS,kCAA6BsC,EAAS,eAAiB,IAArE,SACI,sBAAKtC,UAAU,2CAAf,UACI,wBAAQyB,KAAK,SAASzB,UAAU,sBAAsBG,QAASoC,IAC/D,qBAAKnC,IAAKM,EAAKgB,KAAMpB,IAAKI,EAAKiB,KAAM3B,UAAU,eAC/C,oBAAIA,UAAU,mCAAd,SAAkDU,EAAKiB,eCY5Da,MApBf,YAAqG,IAA5Eb,EAA2E,EAA3EA,KAAMc,EAAqE,EAArEA,MAAOC,EAA8D,EAA9DA,WAAYC,EAAkD,EAAlDA,SAAUL,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,QAASK,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UAGnF,OACI,mCACI,qBAAK7C,UAAS,2BAAsB2B,EAAtB,YAA8BW,EAAS,eAAiB,IAAtE,SACI,sBAAKtC,UAAU,mBAAf,UACI,wBAAQyB,KAAK,SAASzB,UAAU,sBAAsBG,QAASoC,IAC/D,uBAAMK,SAAUA,EAAUjB,KAAMA,EAAMmB,OAAO,IAAIC,OAAO,OAAO/C,UAAU,cAAcgD,YAAU,EAAjG,UACI,oBAAIhD,UAAU,eAAd,SAA8ByC,IAC7BE,EACD,yBAAQlB,KAAK,SAASzB,UAAU,qBAAhC,UAAsD6C,EAAY,kEAAkBH,EAApF,kBCuBTO,MAhCf,YAA+H,IAAnGX,EAAkG,EAAlGA,OAAQC,EAA0F,EAA1FA,QAASW,EAAiF,EAAjFA,aAAcL,EAAmE,EAAnEA,UAAWlB,EAAwD,EAAxDA,KAAMwB,EAAkD,EAAlDA,YAAaC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,oBAUnG,OAEI,eAAC,EAAD,CACI1B,KAAK,UACLc,MAAM,4HACNC,WAAW,yDACXJ,OAAQA,EACRC,QAASA,EACTK,SAhBR,SAAsBU,GAClBA,EAAEC,iBACFL,EAAa,CACTvB,OACAO,MAAOiB,KAaPN,UAAWA,EAPf,UASI,uBAAOW,GAAG,aAAa/B,KAAK,OAAOE,KAAK,OAAO8B,MAAO9B,GAAQ,GAAI+B,YAAY,qBAC1E1D,UAAU,yCAAyC2D,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKC,SAAUV,IACvG,sBAAMI,GAAG,mBAAmBxD,UAAU,uBACtC,uBAAOwD,GAAG,YAAY/B,KAAK,OAAOE,KAAK,QAAQ8B,MAAON,GAAe,GAAIO,YAAY,kCACjF1D,UAAU,wCAAwC2D,UAAQ,EAACC,UAAU,IAAIC,UAAU,MAAMC,SAAUT,IACvG,sBAAMG,GAAG,kBAAkBxD,UAAU,2BCQlC+D,MAlCf,YAA0E,IAA/CzB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,QAASyB,EAA6B,EAA7BA,eAAgBnB,EAAa,EAAbA,UAElDZ,EAASrC,IAAMqE,SAUrB,OAEI,eAAC,EAAD,CACItC,KAAK,SACLc,MAAM,wFACNC,WAAW,yDACXJ,OAAQA,EACRC,QAASA,EACTK,SAhBR,SAAsBU,GAClBA,EAAEC,iBACFS,EAAe,CACX/B,OAAQA,EAAOiC,QAAQT,QAE3BH,EAAEa,OAAOC,SAYLvB,UAAWA,EAPf,UAWI,uBAAOwB,IAAKpC,EAAQuB,GAAG,aAAa/B,KAAK,MAAME,KAAK,OAAO+B,YAAY,qGACnE1D,UAAU,6CAA6C2D,UAAQ,IACnE,sBAAMH,GAAG,mBAAmBxD,UAAU,2BCUnCsE,MArCf,YAA6G,IAApFhC,EAAmF,EAAnFA,OAAQC,EAA2E,EAA3EA,QAAST,EAAkE,EAAlEA,WAAYe,EAAsD,EAAtDA,UAAW0B,EAA2C,EAA3CA,cAAeC,EAA4B,EAA5BA,aAAc7C,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KAYhG,OAEI,cAAC,EAAD,CACIC,KAAK,UACLc,MAAM,gEACNC,WAAW,6CACXJ,OAAQA,EACRC,QAASA,EACTK,SAjBR,SAAsBU,GAClBA,EAAEC,iBACFzB,EAAW,CACPH,OACAD,SAEJ4B,EAAEa,OAAOC,SAYLvB,UAAWA,EAPf,SASI,qCACI,uBAAOW,GAAG,aAAa/B,KAAK,OAAOE,KAAK,OAAO8B,MAAO9B,GAAQ,GAAI+B,YAAY,mDAC1E1D,UAAU,6CAA6C2D,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKC,SAAUS,IAC3G,sBAAMf,GAAG,mBAAmBxD,UAAU,uBACtC,uBAAOwD,GAAG,aAAa/B,KAAK,MAAME,KAAK,OAAO8B,MAAO/B,GAAQ,GAAIgC,YAAY,qGACzE1D,UAAU,6CAA6C2D,UAAQ,EAACG,SAAUU,IAC9E,sBAAMhB,GAAG,mBAAmBxD,UAAU,6BCOvCyE,MArCf,YAAmC,IAAfC,EAAc,EAAdA,WAAc,EAEJ9E,IAAMC,SAAS,IAFX,mBAEvBJ,EAFuB,KAEhBkF,EAFgB,OAGE/E,IAAMC,SAAS,IAHjB,mBAGvB+E,EAHuB,KAGbC,EAHa,KAkB9B,OACI,sBAAK7E,UAAU,sBAAf,UACI,oBAAIA,UAAU,cAAd,gFACA,uBAAMA,UAAU,sCAAsC+C,OAAO,OAAOC,YAAU,EAACJ,SAhBlE,SAACU,GAClBA,EAAEC,iBACFmB,EAAWjF,EAAOmF,IAcd,UAEI,uBAAOpB,GAAG,cAAc/B,KAAK,QAAQqD,aAAa,WAAWnD,KAAK,QAAQ8B,MAAOhE,GAAS,GAAIiE,YAAY,QACtG1D,UAAU,cAAc2D,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKC,SAdxD,SAACR,GACnBqB,EAASrB,EAAEa,OAAOV,UAcV,sBAAMD,GAAG,oBAAoBxD,UAAU,uBACvC,uBAAOwD,GAAG,iBAAiB/B,KAAK,WAAWqD,aAAa,eAAenD,KAAK,WAAW8B,MAAOmB,GAAY,GAAIlB,YAAY,uCACtH1D,UAAU,cAAc2D,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKC,SAbrD,SAACR,GACtBuB,EAAYvB,EAAEa,OAAOV,UAab,sBAAMD,GAAG,uBAAuBxD,UAAU,uBAC1C,wBAAQyB,KAAK,SAASzB,UAAU,eAAhC,6HAEJ,cAAC,IAAD,CAAME,GAAG,YAAYF,UAAU,oBAA/B,qKCOG+E,MAtCf,YAA6B,IAAZC,EAAW,EAAXA,QAAW,EAEEpF,IAAMC,SAAS,IAFjB,mBAEjBJ,EAFiB,KAEVkF,EAFU,OAGQ/E,IAAMC,SAAS,IAHvB,mBAGjB+E,EAHiB,KAGPC,EAHO,KAmBxB,OACI,sBAAK7E,UAAU,uBAAf,UACI,oBAAIA,UAAU,cAAd,sCACA,uBAAMA,UAAU,aAAa+C,OAAO,OAAOC,YAAU,EAACJ,SAjB9D,SAAsBU,GAClBA,EAAEC,iBACFyB,EAAQvF,EAAOmF,IAeX,UAEI,uBAAOpB,GAAG,cAAc/B,KAAK,QAAQqD,aAAa,WAAWnD,KAAK,QAAQ8B,MAAOhE,GAAS,GAAIiE,YAAY,QACtG1D,UAAU,cAAc2D,UAAQ,EAACG,SAd3B,SAACR,GACnBqB,EAASrB,EAAEa,OAAOV,UAcV,sBAAMD,GAAG,mBAAmBxD,UAAU,uBACtC,uBAAOwD,GAAG,iBAAiB/B,KAAK,WAAWqD,aAAa,mBAAmBnD,KAAK,WAAW8B,MAAOmB,GAAY,GAAIlB,YAAY,uCAC1H1D,UAAU,cAAc2D,UAAQ,EAACG,SAbxB,SAACR,GACtBuB,EAAYvB,EAAEa,OAAOV,UAab,sBAAMD,GAAG,kBAAkBxD,UAAU,uBACrC,wBAAQyB,KAAK,SAASzB,UAAU,eAAhC,mD,gBCqEHiF,EAAM,I,WArGf,cAA+B,IAAjBC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,QAAW,oBAC1BC,KAAKC,KAAOH,EACZE,KAAKE,SAAWH,E,wDAGRI,GACR,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAO,IAAIC,MAAJ,gDAAqBL,EAAIM,Y,oCAM/C,OAAOC,MAAM,GAAD,OAAIV,KAAKC,KAAT,aAA0B,CAClCF,QAASC,KAAKE,WAEbS,KAAKX,KAAKY,e,wCAQf,OAAOF,MAAM,GAAD,OAAIV,KAAKC,KAAT,UAAuB,CAC/BF,QAASC,KAAKE,WAEbS,KAAKX,KAAKY,e,mCAQf,OAAON,QAAQO,IAAI,CAACb,KAAKc,kBAAmBd,KAAKe,kB,mCAIxCC,GACT,OAAON,MAAM,GAAD,OAAIV,KAAKC,KAAT,aAA0B,CAClCtC,OAAQ,QACRoC,QAASC,KAAKE,SACde,KAAMC,KAAKC,UAAU,CACjB5E,KAAMyE,EAAUzE,KAChBO,MAAOkE,EAAUlE,UAGpB6D,KAAKX,KAAKY,e,8BAIXQ,GACJ,OAAOV,MAAM,GAAD,OAAIV,KAAKC,KAAT,UAAuB,CAC/BtC,OAAQ,OACRoC,QAASC,KAAKE,SACde,KAAMC,KAAKC,UAAU,CACjB5E,KAAM6E,EAAK7E,KACXD,KAAM8E,EAAK9E,SAGdqE,KAAKX,KAAKY,e,iCAKR9E,GACP,OAAO4E,MAAM,GAAD,OAAIV,KAAKC,KAAT,kBAAuBnE,GAAO,CACtC6B,OAAQ,SACRoC,QAASC,KAAKE,WAEbS,KAAKX,KAAKY,e,2CAKE9E,EAAKE,GACtB,OAAO0E,MAAM,GAAD,OAAIV,KAAKC,KAAT,wBAA6BnE,GAAO,CAC5C6B,OAAO,GAAD,OAAK3B,EAAU,MAAQ,UAC7B+D,QAASC,KAAKE,WAEbS,KAAKX,KAAKY,e,iCAKRI,GACP,OAAON,MAAM,GAAD,OAAIV,KAAKC,KAAT,oBAAiC,CACzCtC,OAAQ,QACRoC,QAASC,KAAKE,SACde,KAAMC,KAAKC,UAAU,CACjBtE,OAAQmE,EAAUnE,WAGrB8D,KAAKX,KAAKY,iB,KAKJ,CAAQ,CACvBd,IAAK,8CACLC,QAAS,CACLsB,cAAe,uCACf,eAAgB,sBCrFTC,MAjBf,YAAgE,IAAzCpE,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,QAASoE,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,QAEhD,OAEI,qBAAK5G,UAAS,iBAAYsC,EAAS,eAAiB,IAApD,SACI,sBAAKtC,UAAU,mBAAf,UACI,wBAAQyB,KAAK,SAASzB,UAAU,sBAAsBG,QAASoC,IAC/D,qBAAKvC,UAAS,sBAAiB2G,EAAa,uBAAyB,yBAErE,oBAAI3G,UAAU,wCAAd,SAAuD4G,U,gBCAxDC,EAVQ,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAaC,EAAY,4BACjD,OACE,cAAC,IAAD,UAEI,kBAAMD,EAAW,cAAC,IAAD,eAAWC,IAAY,cAAC,IAAD,CAAU7G,GAAG,iBCPhD8G,EAAW,gCAGX7B,EAAU,CACnB,eAAgB,oBC8ZL8B,MA3Yf,WAAe,MAI2BrH,IAAMC,SAAS,IAJ1C,mBAIJiB,EAJI,KAISoG,EAJT,OAKetH,IAAMC,SAAS,IAL9B,mBAKJmC,EALI,KAKGmF,EALH,OAMavH,IAAMC,SAAS,IAN5B,mBAMJ8B,EANI,KAMEyF,EANF,OAQ2BxH,IAAMC,SAAS,IAR1C,mBAQJsD,EARI,KAQSkE,EART,OAUezH,IAAMC,SAAS,IAV9B,mBAUJ4C,EAVI,KAUG6E,EAVH,OAWa1H,IAAMC,SAAS,IAX5B,mBAWJ6B,EAXI,KAWE6F,EAXF,OAaiD3H,IAAMC,UAAS,GAbhE,mBAaJ2H,EAbI,KAaoBC,EAbpB,OAc2C7H,IAAMC,UAAS,GAd1D,mBAcJ6H,EAdI,KAciBC,EAdjB,OAe+C/H,IAAMC,UAAS,GAf9D,oBAeJ+H,GAfI,MAemBC,GAfnB,SAgBuCjI,IAAMC,UAAS,GAhBtD,qBAgBJiI,GAhBI,MAgBeC,GAhBf,SAiByCnI,IAAMC,UAAS,GAjBxD,qBAiBJmI,GAjBI,MAiBgBC,GAjBhB,SAkBqCrI,IAAMC,SAAS,IAlBpD,qBAkBJqI,GAlBI,MAkBcC,GAlBd,SAmB+BvI,IAAMC,SAAS,IAnB9C,qBAmBJuI,GAnBI,MAmBWC,GAnBX,SAoBqBzI,IAAMC,UAAS,GApBpC,qBAoBJgD,GApBI,MAoBOyF,GApBP,SAsBqB1I,IAAMC,UAAS,GAtBpC,qBAsBJiH,GAtBI,MAsBMyB,GAtBN,SAyBiD3I,IAAMC,UAAS,GAzBhE,qBAyBJ2I,GAzBI,MAyBoBC,GAzBpB,SA2B2B7I,IAAMC,UAAS,GA3B1C,qBA2BJ6I,GA3BI,MA2BUC,GA3BV,SA4BmB/I,IAAMC,SAAS,IA5BlC,qBA4BJ+G,GA5BI,MA4BKgC,GA5BL,SA6BehJ,IAAMC,SAAS,IA7B9B,qBA6BJJ,GA7BI,MA6BGkF,GA7BH,MAmCX/E,IAAMiJ,WAAU,WACZ5D,EAAI6D,aACC/C,MAAK,SAAAR,GACF,IAAMwD,EAAYxD,EAAI,GAChByD,EAAWzD,EAAI,GACrB2B,EAAe8B,GACf7B,EAAS4B,MAEZE,OAAM,SAACC,GACJC,QAAQC,IAAIF,QAErB,IAoCHtJ,IAAMiJ,WAAU,WACZzB,EAAQtG,EAAYa,MACpB0F,EAAevG,EAAYoB,SAC5B,CAACpB,IA6BJlB,IAAMiJ,WAAU,WACZvB,EAAS,IACTC,EAAQ,MACT,IAwDH,IAAM8B,GAAUC,cAEVC,GAAa,WACf,IDhKmBC,ECgKbC,EAAMC,aAAaC,QAAQ,OAC7BF,IDjKeD,ECkKCC,EDjKjB3D,MAAM,GAAD,OAAIkB,EAAJ,aAAyB,CACjCjE,OAAQ,MACRoC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BqE,MAG9BzD,MAAK,SAAAR,GAAG,OAAIA,EAAIE,UAChBM,MAAK,SAAAS,GAAI,OAAIA,MCwJWT,MAAK,SAACR,GACnBA,IACAgD,IAAY,GACZ5D,GAASY,EAAIiB,KAAK/G,QAGtB4J,GAAQO,KAAK,QAEZX,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAwExC,SAASW,KACLhC,IAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBM,IAAsB,GACtBF,IAAqB,GACrBU,IAA0B,GAC1BN,GAAoB,IACpBE,QAAiByB,GAkBrB,OA9FAlK,IAAMiJ,WAAU,WACZU,OACD,IA6EH3J,IAAMiJ,WAAU,WACZ,SAASkB,EAAeC,GACJ,WAAZA,EAAIC,KACJJ,KAIR,OADAK,SAASC,iBAAiB,UAAWJ,GAC9B,WACHG,SAASE,oBAAoB,UAAWL,MAE7C,IAMC,qBAAK/J,UAAU,OAAf,SACI,cAACO,EAAmB8J,SAApB,CAA6B5G,MAAO3C,EAApC,SAEI,sBAAKd,UAAU,MAAf,UACI,cAAC,EAAD,CACIP,MAAOA,GACPC,SA3DpB,WACIgK,aAAaY,WAAW,OACxB/B,IAAY,GACZ5D,GAAS,IACT0E,GAAQO,KAAK,aAwDGjK,SAAUmH,KAGd,eAAC,IAAD,WACI,eAAC,EAAD,CAAgByD,OAAK,EAACtK,KAAK,IAAI6G,SAAUA,GAAzC,UACI,cAAC,EAAD,CACIjF,cAhD5B,WACI4F,GAA0B,IAgDF3F,WA7C5B,WACI6F,GAAuB,IA6CC5F,aAtD5B,WACI8F,IAAyB,IAsDDlH,YA3K5B,SAAyBD,GACrBuH,IAAsB,GACtBE,GAAoB,CAChBzG,KAAMhB,EAAKgB,KACXC,KAAMjB,EAAKiB,KACXrB,IAAKI,EAAKiB,QAuKUf,WAhK5B,SAAwBF,GACpB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAkJ,GAAC,OAAIA,EAAEtJ,MAAQJ,EAAYI,OAE3D+D,EAAIwF,qBAAqB/J,EAAKQ,KAAME,GAC/B2E,MAAK,SAAC2E,GACH,IAAMC,EAAW3I,EAAMG,KAAI,SAACyI,GAAD,OAAUA,EAAK1J,MAAQR,EAAKQ,IAAMwJ,EAAUE,KACvEzD,EAASwD,MAEZ1B,OAAM,SAAAC,GACHC,QAAQC,IAAIF,OAwJIrI,aApJ5B,SAAiCH,GAC7B2H,GAAiB3H,GACjBqH,IAAqB,IAmJG/F,MAAOA,IAEX,cAAC,EAAD,OAIJ,cAAC,IAAD,CAAOuI,OAAK,EAACtK,KAAK,WAAlB,SACI,cAAC,EAAD,CACIyE,WAtH5B,SAAoBjF,EAAOmF,GACvB,ODnNgB,SAACnF,EAAOmF,GAC5B,OAAOkB,MAAM,GAAD,OAAIkB,EAAJ,WAAuB,CAC/BjE,OAAQ,OACRoC,QAASA,EACTkB,KAAMC,KAAKC,UAAU,CAAE9G,QAAOmF,eAE7BmB,MAAK,SAAC8E,GACH,OAAOA,EAASpF,UAEnBM,MAAK,SAACR,GAEH,OADA4D,QAAQC,IAAI7D,GACLA,KCwMJuF,CAAcrL,EAAOmF,GACvBmB,MAAK,SAACR,GACCA,EAAIiB,MACJmC,IAAc,GACdC,GAAW,yKACXH,IAA0B,GAC1BY,GAAQO,KAAK,cAGbjB,IAAc,GACdC,GAAW,sMACXH,IAA0B,OAGjCQ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAI,0MA2GhB,cAAC,IAAD,CAAOnJ,KAAK,WAAZ,SACI,cAAC,EAAD,CACI+E,QAxG5B,SAAiBvF,EAAOmF,GACpB,ODxNa,SAACnF,EAAOmF,GACzB,OAAOkB,MAAM,GAAD,OAAIkB,EAAJ,WAAuB,CAC/BjE,OAAQ,OACRoC,QAASA,EACTkB,KAAMC,KAAKC,UAAU,CAAE9G,QAAOmF,eAE7BmB,MAAM,SAAA8E,GAAQ,OAAIA,EAASpF,UAC3BM,MAAK,SAACS,GACH,OAAIA,EAAKgD,OACLE,aAAaqB,QAAQ,MAAOvE,EAAKgD,OAC1BhD,QAEP,KC4MDsE,CAAWrL,EAAOmF,GACpBmB,MAAK,SAACR,GACEA,GAODmE,aAAaqB,QAAQ,QAASxF,EAAIiE,OAClCD,OAPAhB,IAAY,GACZK,GAAW,sOACXH,IAA0B,OASjCQ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAI,kLA8FhB,cAAC,IAAD,UACKtC,GAAW,cAAC,IAAD,CAAU5G,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,kBAOvD,cAAC,EAAD,CACIoC,OAAQkF,EACRjF,QAASsH,GACT3G,aA5RpB,SAA0B8H,GACtB1C,IAAW,GACXrD,EAAIgG,aAAaD,GACZjF,MAAK,SAACmF,GACHhE,EAAegE,GACfrB,QAEHZ,OAAM,SAACC,GACJC,QAAQC,IAAIF,MAEfiC,SAAQ,WAEL7C,IAAW,OAiRHzF,UAAWA,GACXO,aAzPpB,SAA0BE,GACtB8D,EAAQ9D,EAAEa,OAAOV,QAyPDJ,oBAtPpB,SAAiCC,GAC7B+D,EAAe/D,EAAEa,OAAOV,QAsPR9B,KAAMA,EACNwB,YAAaA,IAGjB,cAAC,EAAD,CACIb,OAAQsF,GACRrF,QAASsH,GACT7F,eAvRpB,SAA4B/B,GACxBqG,IAAW,GACXrD,EAAImG,WAAWnJ,GACV8D,MAAK,SAACsF,GACHnE,EAAemE,GACfxB,QAEHZ,OAAM,SAACC,GACJC,QAAQC,IAAIF,MAEfiC,SAAQ,WAEL7C,IAAW,OA4QHzF,UAAWA,KAGf,cAAC,EAAD,CACIP,OAAQoF,EACRnF,QAASsH,GACT/H,WA9PpB,SAA8BiH,GAC1BT,IAAW,GACXrD,EAAIqG,QAAQvC,GACPhD,MAAK,SAAC2E,GACHvD,EAAS,CAACuD,GAAF,mBAAc1I,KACtB6H,QAEHZ,OAAM,SAACC,GACJC,QAAQC,IAAIF,MAGfiC,SAAQ,WACL7C,IAAW,OAmPHzF,UAAWA,GACX0B,cA3OpB,SAA2BjB,GACvBgE,EAAShE,EAAEa,OAAOV,QA2OFe,aAxOpB,SAA0BlB,GACtBiE,EAAQjE,EAAEa,OAAOV,QAwOD9B,KAAMc,EACNf,KAAMA,IAGV,cAAC,EAAD,CACIC,KAAK,aACLc,MAAM,2DACNC,WAAW,eACXJ,OAAQwF,GACRvF,QAASsH,GACTjH,SA9MpB,SAA0BoH,GACtBA,EAAIzG,iBACJ0B,EAAIsG,WAAWnD,GAAclH,KACxB6E,MAAK,WACF,IAAM4E,EAAW3I,EAAMwJ,QAAO,SAAC9K,GAAD,OAAUA,EAAKQ,MAAQkH,GAAclH,OACnEiG,EAASwD,GACT5C,IAAqB,MAExBkB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,gIAAsCF,UA2M5C,cAAC,EAAD,CACIxI,KAAMwH,GACN5F,OAAQ0F,GACRzF,QAASsH,KAIb,cAAC,EAAD,CACIvH,OAAQkG,GACRjG,QAASsH,GACTlD,WAAY+B,GACZ9B,QAASA,aC9YjC6E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJzB,SAAS0B,eAAe,W","file":"static/js/main.d7914f24.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\nimport logo from './logo.svg';\r\n\r\nfunction Header({ email, onLogout, isLogged }) {\r\n\r\n    const [isNaviconClick, setNaviconClick] = React.useState(false);\r\n\r\n    const openMenu = () => {\r\n        setNaviconClick(true)\r\n    }\r\n\r\n    const closeMenu = () => {\r\n        setNaviconClick(false)\r\n    }\r\n\r\n    return (\r\n\r\n        <header className={`page__sections ${isLogged ? 'header-auth' : 'header'}`}>\r\n            <Switch>\r\n                <Route path=\"/sign-in\">\r\n                    <Link to=\"./sign-up\" className=\"header__link\">Регистрация</Link>\r\n                </Route>\r\n                <Route path=\"/sign-up\">\r\n                    <Link to=\"./sign-in\" className=\"header__link\">Войти</Link>\r\n                </Route>\r\n                <Route path=\"/\">\r\n                    <div className={`${isNaviconClick ? 'header__menu-mobile' : 'header__menu '}`}>\r\n                        <p className=\"header__email\" >{email}</p>\r\n                        <Link to=\"./sign-in\" onClick={onLogout} className=\"header__link header__link_out\">Выйти</Link>\r\n                    </div>\r\n\r\n                    <button onClick={openMenu} className={`button header__menu-pic ${isNaviconClick ? '' : 'header__menu-pic_type_open'}`}>\r\n                    </button>\r\n                    <button onClick={closeMenu}\r\n                        className={`button header__menu-pic ${isNaviconClick ? 'header__menu-pic_type_close' : ''}`}>\r\n                    </button>\r\n\r\n                </Route>\r\n\r\n            </Switch>\r\n            <img src={logo} alt=\"Mesto Russia\" className='header__logo' />\r\n\r\n\r\n\r\n        </header>\r\n\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDelete() {\r\n        onCardDelete(card)\r\n    }\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    // Показ иконки удаления\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `button elements__trash ${isOwn ? 'elements__trash_active' : ''}`\r\n    );\r\n\r\n    // Показ лайка\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `button elements__like ${isLiked ? 'elements__like_active' : ''}`\r\n    );\r\n\r\n\r\n    return (\r\n\r\n        <li className=\"elements__item\" >\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDelete} > </button>\r\n            <img src={card.link} alt={card.name} className=\"elements__img\" onClick={handleClick} />\r\n            <div className=\"elements__label\">\r\n                <h2 className=\"elements__title\">{card.name}</h2>\r\n                <div className=\"elements__likes\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <div className=\"elements__like-count\">0</div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onEditAvatar,\r\n    onCardClick,\r\n    onCardLike,\r\n    onCardDelete,\r\n    cards\r\n\r\n}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n\r\n    return (\r\n        <main>\r\n\r\n            <section className=\"profile page__sections\">\r\n                <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar\" />\r\n                <button type=\"button\" className=\"button profile__avatar_edit\" onClick={onEditAvatar}></button>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name} </h1>\r\n                    <button type=\"button\" className=\"button profile__edit\" onClick={onEditProfile}></button>\r\n                    <p className=\"profile__text\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"button profile__add\" onClick={onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"cards page__sections\">\r\n                <ul className=\"cards__items\">\r\n                    {\r\n                        cards.map((card) =>\r\n                            < Card\r\n                                key={card._id}\r\n                                card={card}\r\n                                onCardClick={onCardClick}\r\n                                onCardLike={onCardLike}\r\n                                onCardDelete={onCardDelete}\r\n                            />\r\n                        )\r\n                    }\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return (\r\n\r\n        <footer className=\"footer page__sections\">\r\n            <p className=\"footer__text\"> &#169; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup popup_type_layout ${isOpen ? 'popup_opened' : ''}`}>\r\n                <div className=\"popup__container popup__container_layout\">\r\n                    <button type=\"button\" className=\"button popup__close\" onClick={onClose}></button>\r\n                    <img src={card.link} alt={card.name} className=\"popup__img\" />\r\n                    <h2 className=\"popup__title popup__title_layout\">{card.name}</h2>\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, buttonText, children, isOpen, onClose, onSubmit, isLoading }) {\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`} >\r\n                <div className=\"popup__container\">\r\n                    <button type=\"button\" className=\"button popup__close\" onClick={onClose}></button>\r\n                    <form onSubmit={onSubmit} name={name} action=\"#\" method=\"post\" className=\"popup__form\" noValidate>\r\n                        <h3 className=\"popup__title\">{title}</h3>\r\n                        {children}\r\n                        <button type=\"submit\" className=\"button popup__save\">{isLoading ? 'Сохранение...' : buttonText} </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading, name, description, onNameChange, onDescriptionChange }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name=\"profile\"\r\n            title=\"Редактировать профиль\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n            <input id=\"input-name\" type=\"text\" name=\"name\" value={name || \"\"} placeholder='Имя'\r\n                className=\"popup__input popup__input_subject_name\" required minLength=\"2\" maxLength=\"40\" onChange={onNameChange} />\r\n            <span id=\"input-name-error\" className=\"popup__input-error\"></span>\r\n            <input id=\"input-job\" type=\"text\" name=\"about\" value={description || \"\"} placeholder='О себе'\r\n                className=\"popup__input popup__input_subject_job\" required minLength=\"2\" maxLength=\"200\" onChange={onDescriptionChange} />\r\n            <span id=\"input-job-error\" className=\"popup__input-error\"></span>\r\n        </PopupWithForm>\r\n\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n\r\n    const avatar = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: avatar.current.value,\r\n        });\r\n        e.target.reset();\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name=\"avatar\"\r\n            title=\"Обновить аватар\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n\r\n\r\n            <input ref={avatar} id=\"input-link\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_subject_pic-link\" required />\r\n            <span id=\"input-link-error\" className=\"popup__input-error\"></span>\r\n\r\n        </PopupWithForm >\r\n\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading, onTitleChange, onLinkChange, name, link }) {\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name,\r\n            link\r\n        });\r\n        e.target.reset();\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name=\"element\"\r\n            title=\"Новое место\"\r\n            buttonText=\"Создать\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n            <>\r\n                <input id=\"input-name\" type=\"text\" name=\"name\" value={name || \"\"} placeholder=\"Название\"\r\n                    className=\"popup__input popup__input_subject_pictitle\" required minLength=\"1\" maxLength=\"30\" onChange={onTitleChange} />\r\n                <span id=\"input-name-error\" className=\"popup__input-error\"></span>\r\n                <input id=\"input-link\" type=\"url\" name=\"link\" value={link || \"\"} placeholder=\"Ссылка на картинку\"\r\n                    className=\"popup__input popup__input_subject_pic-link\" required onChange={onLinkChange} />\r\n                <span id=\"input-link-error\" className=\"popup__input-error\"></span>\r\n            </>\r\n        </PopupWithForm>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register({ onRegister }) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onRegister(email, password)\r\n    }\r\n\r\n    const onEmailChange = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const onPasswordChange = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"page__sections auth\">\r\n            <h2 className=\"auth__title\">Регистрация</h2>\r\n            <form className=\"auth__form auth__form_type_register\" method=\"post\" noValidate onSubmit={handleSubmit}>\r\n\r\n                <input id=\"input-email\" type=\"email\" autoComplete=\"username\" name=\"email\" value={email || \"\"} placeholder='Email'\r\n                    className=\"auth__input\" required minLength=\"5\" maxLength=\"40\" onChange={onEmailChange} />\r\n                <span id=\"input-email-error\" className=\"popup__input-error\"></span>\r\n                <input id=\"input-password\" type=\"password\" autoComplete=\"new-password\" name=\"password\" value={password || \"\"} placeholder='Пароль'\r\n                    className=\"auth__input\" required minLength=\"5\" maxLength=\"40\" onChange={onPasswordChange} />\r\n                <span id=\"input-password-error\" className=\"popup__input-error\"></span>\r\n                <button type=\"submit\" className=\"auth__submit\">Зарегистрироваться</button>\r\n            </form>\r\n            <Link to=\"./sign-in\" className=\"button auth__link\">Уже зарегистрированы? Войти</Link>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\n\r\nfunction Login({ onLogin }) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onLogin(email, password)\r\n\r\n    }\r\n\r\n    const onEmailChange = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const onPasswordChange = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"page__sections  auth\">\r\n            <h2 className=\"auth__title\">Вход</h2>\r\n            <form className=\"auth__form\" method=\"post\" noValidate onSubmit={handleSubmit}>\r\n\r\n                <input id=\"input-email\" type=\"email\" autoComplete=\"username\" name=\"email\" value={email || \"\"} placeholder='Email'\r\n                    className=\"auth__input\" required onChange={onEmailChange} />\r\n                <span id=\"input-name-error\" className=\"popup__input-error\"></span>\r\n                <input id=\"input-password\" type=\"password\" autoComplete=\"current-password\" name=\"password\" value={password || \"\"} placeholder='Пароль'\r\n                    className=\"auth__input\" required onChange={onPasswordChange} />\r\n                <span id=\"input-job-error\" className=\"popup__input-error\"></span>\r\n                <button type=\"submit\" className=\"auth__submit\">Войти</button>\r\n            </form>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Login;","class Api {\r\n    constructor({ url, headers }) {\r\n        this._url = url\r\n        this._headers = headers\r\n    };\r\n\r\n    _parsAnswer(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n\r\n    // 1. Загрузка информации о пользователе с сервера\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n        //       .then((res) => {\r\n        // console.log(res)\r\n        //       })\r\n    };\r\n\r\n    // 2. Загрузка карточек с сервера\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n        //       .then((res) => {\r\n        // console.log(res);\r\n        //       })\r\n    };\r\n\r\n\r\n    getAllInfo() {\r\n        return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n    }\r\n\r\n    // 3. Редактирование профиля\r\n    editUserInfo(inputData) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: inputData.name,\r\n                about: inputData.about\r\n            })\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n\r\n    // 4. Добавление новой карточки\r\n    addCard(data) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then(this._parsAnswer)\r\n\r\n    }\r\n\r\n    // 7. Удаление карточки\r\n    deleteCard(_id) {\r\n        return fetch(`${this._url}/cards/${_id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n\r\n\r\n    // 8. Постановка и снятие лайка\r\n    changeLikeCardStatus(_id, isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${_id}`, {\r\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n\r\n\r\n    // 9. Обновление аватара пользователя  \r\n    editAvatar(inputData) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: inputData.avatar\r\n            })\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n}\r\n\r\n\r\nexport const api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n    headers: {\r\n        authorization: '5e818745-1601-43fc-b5f2-fedadb1bc162',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});","import React from 'react';\r\n\r\n\r\n\r\nfunction InfoTooltip({ isOpen, onClose, authResult, message }) {\r\n\r\n    return (\r\n\r\n        <div className={`popup  ${isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" className=\"button popup__close\" onClick={onClose}></button>\r\n                <div className={`popup__info ${authResult ? 'popup__info_type_yes' : 'popup__info_type_no'}`}\r\n                ></div>\r\n                <h2 className=\"popup__title popup__title_infotooltip\">{message}</h2>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ loggedIn, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => loggedIn ? <Route {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute; ","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\n\r\nexport const headers = {\r\n    'Content-Type': 'application/json'\r\n};\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((res) => {\r\n            console.log(res);\r\n            return res;\r\n        })\r\n};\r\n\r\nexport const login = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n        .then((response => response.json()))\r\n        .then((data) => {\r\n            if (data.token) {\r\n                localStorage.setItem('jwt', data.token);\r\n                return data;\r\n            } else {\r\n                return;\r\n            }\r\n        })\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(res => res.json())\r\n        .then(data => data)\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\n\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport PopupWithForm from './PopupWithForm';\nimport Register from './Register';\nimport Login from './Login';\n\nimport { api } from '../utils/Api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';\n\n\n\nfunction App() {\n\n\n    // Стейты\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n    const [name, setName] = React.useState('');\n\n    const [description, setDescription] = React.useState('');\n\n    const [title, setTitle] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false);\n    const [isSelectedCardOpen, setIsSelestedCardOpen] = React.useState(false);\n    const [selectedCardData, setSelectedCardData] = React.useState({});\n    const [cardForDelete, setCardForDelete] = React.useState({})\n    const [isLoading, setLoading] = React.useState(false);\n\n    const [loggedIn, setLoggedIn] = React.useState(false);\n\n\n    const [isInfoToolTipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n\n    const [isAuthResult, setAuthResult] = React.useState(false);\n    const [message, setMessage] = React.useState('');\n    const [email, setEmail] = React.useState('');\n\n\n\n    // Загрузка данных\n\n    React.useEffect(() => {\n        api.getAllInfo()\n            .then(res => {\n                const cardsData = res[0];\n                const userData = res[1];\n                setCurrentUser(userData)\n                setCards(cardsData)\n            })\n            .catch((err) => {\n                console.log(err)\n            });\n    }, []);\n\n    // Профиль\n\n    function handleUpdateUser(userInfo) {\n        setLoading(true)\n        api.editUserInfo(userInfo)\n            .then((newUserInfo) => {\n                setCurrentUser(newUserInfo)\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n            .finally(() => {\n\n                setLoading(false)\n            })\n    }\n\n    function handleUpdateAvatar(avatar) {\n        setLoading(true)\n        api.editAvatar(avatar)\n            .then((newAvatar) => {\n                setCurrentUser(newAvatar)\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n            .finally(() => {\n\n                setLoading(false)\n            })\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n\n    // КАРТОЧКИ\n\n\n    function handleAddPlaceSubmit(cardsData) {\n        setLoading(true)\n        api.addCard(cardsData)\n            .then((newCard) => {\n                setCards([newCard, ...cards])\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(err)\n\n            })\n            .finally(() => {\n                setLoading(false)\n            })\n    }\n\n    React.useEffect(() => {\n        setTitle('');\n        setLink('');\n    }, []);\n\n    function handleTitleChange(e) {\n        setTitle(e.target.value);\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value);\n    }\n\n\n    // открыть из карточки попап с картинкой\n\n    function handleCardClick(card) {\n        setIsSelestedCardOpen(true);\n        setSelectedCardData({\n            link: card.link,\n            name: card.name,\n            alt: card.name\n        })\n\n    }\n\n    // поставить-удалить лайк\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n                setCards(newCards);\n            })\n            .catch(err => {\n                console.log(err)\n            });\n    }\n\n    function handleCardDeleteRequest(card) {\n        setCardForDelete(card);\n        setIsDeletePopupOpen(true);\n    }\n\n    function handleCardDelete(evt) {\n        evt.preventDefault();\n        api.deleteCard(cardForDelete._id)\n            .then(() => {\n                const newCards = cards.filter((card) => card._id !== cardForDelete._id);\n                setCards(newCards);\n                setIsDeletePopupOpen(false);\n            })\n            .catch(err => console.log(`При удалении карточки: ${err}`))\n    }\n\n    // АВТОРИЗАЦИЯ\n\n    const history = useHistory();\n\n    const tokenCheck = () => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            auth.checkToken(jwt).then((res) => {\n                if (res) {\n                    setLoggedIn(true)\n                    setEmail(res.data.email)\n\n                }\n                history.push('/');\n            })\n                .catch((err) => console.log(err))\n        }\n    };\n\n    React.useEffect(() => {\n        tokenCheck();\n    }, []);\n\n    function onRegister(email, password) {\n        return auth.register(email, password)\n            .then((res) => {\n                if (res.data) {\n                    setAuthResult(true);\n                    setMessage('Вы успешно зарегистрировались!');\n                    setIsInfoTooltipPopupOpen(true);\n                    history.push('/sign-in');\n                }\n                else {\n                    setAuthResult(false);\n                    setMessage('Что-то пошло не так! Попробуйте ещё раз');\n                    setIsInfoTooltipPopupOpen(true);\n                }\n            })\n            .catch((err) => console.log('некорректно заполнено одно из полей'));\n\n    }\n\n\n    function onLogin(email, password) {\n        return auth.login(email, password)\n            .then((res) => {\n                if (!res) {\n                    setLoggedIn(false);\n                    setMessage('Проверьте правильность введения email и пароля');\n                    setIsInfoTooltipPopupOpen(true);\n\n                }\n                else {\n                    localStorage.setItem('token', res.token);\n                    tokenCheck();\n\n                }\n            })\n            .catch((err) => console.log('Пользователь с таким email не найден'));\n    }\n\n    function onLogout() {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n        setEmail('');\n        history.push('/sign-in')\n    };\n\n\n    // ПОПАПЫ\n\n    // состояние попапов\n\n\n    //Обработчики попапов\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsSelestedCardOpen(false);\n        setIsDeletePopupOpen(false);\n        setIsInfoTooltipPopupOpen(false);\n        setSelectedCardData({});\n        setCardForDelete(undefined);\n    }\n\n    React.useEffect(() => {\n        function handleESCclose(evt) {\n            if (evt.key === \"Escape\") {\n                closeAllPopups();\n            }\n        }\n        document.addEventListener('keydown', handleESCclose);\n        return () => {\n            document.removeEventListener('keydown', handleESCclose);\n        }\n    }, [])\n\n\n\n    // Возврат\n    return (\n        <div className=\"page\">\n            <CurrentUserContext.Provider value={currentUser}>\n\n                <div className=\"App\">\n                    <Header\n                        email={email}\n                        onLogout={onLogout}\n                        isLogged={loggedIn}\n\n                    />\n                    <Switch>\n                        <ProtectedRoute exact path=\"/\" loggedIn={loggedIn}>\n                            <Main\n                                onEditProfile={handleEditProfileClick}\n                                onAddPlace={handleAddPlaceClick}\n                                onEditAvatar={handleEditAvatarClick}\n                                onCardClick={handleCardClick}\n                                onCardLike={handleCardLike}\n                                onCardDelete={handleCardDeleteRequest}\n                                cards={cards}\n                            />\n                            <Footer />\n\n                        </ProtectedRoute>\n\n                        <Route exact path=\"/sign-up\">\n                            <Register\n                                onRegister={onRegister}\n                            />\n                        </Route>\n\n                        <Route path=\"/sign-in\">\n                            <Login\n                                onLogin={onLogin}\n                            />\n                        </Route>\n\n\n                        <Route>\n                            {loggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\n                        </Route>\n\n                    </Switch>\n\n\n\n                    <EditProfilePopup\n                        isOpen={isEditProfilePopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateUser={handleUpdateUser}\n                        isLoading={isLoading}\n                        onNameChange={handleNameChange}\n                        onDescriptionChange={handleDescriptionChange}\n                        name={name}\n                        description={description}\n                    />\n\n                    <EditAvatarPopup\n                        isOpen={isEditAvatarPopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateAvatar={handleUpdateAvatar}\n                        isLoading={isLoading}\n                    />\n\n                    <AddPlacePopup\n                        isOpen={isAddPlacePopupOpen}\n                        onClose={closeAllPopups}\n                        onAddPlace={handleAddPlaceSubmit}\n                        isLoading={isLoading}\n                        onTitleChange={handleTitleChange}\n                        onLinkChange={handleLinkChange}\n                        name={title}\n                        link={link}\n                    />\n\n                    <PopupWithForm\n                        name=\"deleteCard\"\n                        title=\"Вы уверены?\"\n                        buttonText=\"Да\"\n                        isOpen={isDeletePopupOpen}\n                        onClose={closeAllPopups}\n                        onSubmit={handleCardDelete}\n                    >\n                    </PopupWithForm>\n\n\n                    <ImagePopup\n                        card={selectedCardData}\n                        isOpen={isSelectedCardOpen}\n                        onClose={closeAllPopups}\n\n                    ></ImagePopup>\n\n                    <InfoTooltip\n                        isOpen={isInfoToolTipPopupOpen}\n                        onClose={closeAllPopups}\n                        authResult={isAuthResult}\n                        message={message}\n                    ></InfoTooltip>\n\n                </div>\n\n\n            </CurrentUserContext.Provider>\n\n        </div>\n    )\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// reportWebVitals();\n"],"sourceRoot":""}